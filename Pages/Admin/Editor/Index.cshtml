@page
@model BiblioTech.Pages.Admin.Editor.EditorModel
@{
	ViewData["model"] = "Editeur";
}
<div class="mt-5 text-center">
	<a href="/Admin/Editor/Ajouter" type="button" class="w-50 btn btn-outline-success"><i class="fa-solid fa-plus"></i> Ajouter @ViewData["model"]</a>
</div>
<div class="table-responsive">
	<table class="table">
		<thead>
			<tr>
				<th>ID </th>
				<th>Nom </th>
				<th>Email </th>
				<th>Télephone </th>
				<th>Adresse </th>
				<th>Description </th>
			</tr>
		</thead>
		<tbody>
			@foreach (var item in Model.listEditeur)
			{

				<tr>
					<td>@item.id</td>
					<td>@item.name</td>
					<td>@item.email</td>
					<td>@item.telephone</td>
					<td>@item.adresse</td>
					<td>@item.descr</td>
					<td>
						<form asp-page="/Admin/Editor/Edit" method="post">
							<input type="hidden" value="@item.id" name="id">
							<input type="submit" class="btn btn-info" value="Modifier">
						</form>
						<form asp-page="/Admin/Editor/Delete" method="Post">
							<input type="hidden" value="@item.id" name="id">
							<input type="submit" class="btn btn-danger" value="Supprimer">
						</form>
					</td>
				</tr>

			}
		</tbody>
	</table>
</div>
@if (Model.index > 0)
{
	<script>
		var rows = document.getElementsByTagName("tr");
		var time;
		var row;
		for (var i = 1; i < rows.length; i++) {
			if (rows[i].getElementsByTagName("td")[0].innerHTML === "@Model.index") {
				row = rows[i];
				row.scrollIntoView();
				row.style.border = "3px solid #F7CA18";
				time = setTimeout(() => {
					row.style.border = "inherit";
					clearTimeout(time);
				}, 5000);
			}
		}
	</script>
}